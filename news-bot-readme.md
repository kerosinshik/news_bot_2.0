# News Bot

News Bot - это автоматизированный Telegram бот для агрегации, обработки и публикации новостей в Telegram канале.

## Описание

Бот выполняет следующие функции:
- Сбор новостей из различных RSS-фидов
- Анализ и оценка важности новостей
- Автоматическая публикация отобранных новостей в Telegram канале
- Отслеживание статистики публикаций
- Определение оптимального времени для публикаций

## Структура проекта

```
news_bot/
│
├── main.py                 # Точка входа в приложение
├── config.py               # Конфигурационные параметры
├── requirements.txt        # Зависимости проекта
├── .env                    # Файл с переменными окружения (не включается в репозиторий)
├── README.md               # Этот файл
│
├── news_bot/
│   ├── __init__.py
│   ├── bot.py              # Основной класс NewsBot
│   ├── rss_parser.py       # Парсинг RSS-фидов
│   ├── article_processor.py # Обработка и анализ статей
│   ├── publisher.py        # Публикация в Telegram
│   ├── database.py         # Работа с базой данных
│   ├── events.py           # Управление событиями
│   ├── telegram_handlers.py # Обработчики команд Telegram
│   └── utils.py            # Вспомогательные функции
│
├── tests/
│   ├── __init__.py
│   ├── test_rss_parser.py
│   ├── test_article_processor.py
│   ├── test_publisher.py
│   ├── test_database.py
│   ├── test_events.py
│   ├── test_telegram_handlers.py
│   └── test_utils.py
│
└── logs/
    └── bot.log             # Лог-файл бота
```

## Установка

1. Клонируйте репозиторий:
   ```
   git clone https://github.com/your-username/news-bot.git
   cd news-bot
   ```

2. Создайте виртуальное окружение и активируйте его:
   ```
   python -m venv venv
   source venv/bin/activate  # Для Linux/Mac
   venv\Scripts\activate  # Для Windows
   ```

3. Установите зависимости:
   ```
   pip install -r requirements.txt
   ```

4. Создайте файл `.env` в корневой директории и добавьте следующие переменные:
   ```
   TELEGRAM_BOT_TOKEN=your_bot_token
   TELEGRAM_CHANNEL_ID=your_channel_id
   ADMIN_CHAT_ID=your_admin_chat_id
   ```

## Использование

1. Запустите бота:
   ```
   python main.py
   ```

2. Бот начнет собирать и публиковать новости автоматически.

3. Для управления ботом используйте следующие команды в чате с ботом:
   - /start - Начать работу с ботом
   - /help - Показать справку
   - /status - Проверить статус бота
   - /stats - Показать статистику публикаций
   - /top - Показать топ статей
   - /events - Показать предстоящие события
   - /pause - Приостановить публикации
   - /resume - Возобновить публикации
   - /scores - Показать таблицу оценок статей
   - /optimal_time - Показать оптимальное время публикаций

## Тестирование

Для запуска тестов используйте команду:
```
python -m unittest discover tests
```

## Логирование

Логи бота сохраняются в файл `logs/bot.log`.

## Лицензия

Этот проект распространяется под лицензией MIT. Подробности см. в файле LICENSE.

## Контакты

Если у вас есть вопросы или предложения, пожалуйста, создайте issue в этом репозитории.
